# ssh-agent

ssh-keygen -p -f id_ed25519 # new passphrase
echo $SSH_AUTH_SOCK
eval $(ssh-agent) > .profile

ssh-add ~/.ssh/id_ed25519

ssh-add -d PATH_TO_KEY
ssh -T git@github.com
git config --global gpg.format ssh
git config --global user.signingkey ~/.ssh/id_ed25519.pub
git config --global commit.gpgsign true
git commit -S -m "YOUR_COMMIT_MESSAGE"

git config --global gpg.ssh.allowedSignersFile "~/.config/git/allowed_signers"

# .ssh/config
Host github
    HostName github.com
    User git
    AddKeysToAgent yes
    Identity file /my/personal/file
    IdentitiesOnly yes

nix run nixpkgs#ssh-to-age -- -private-key -i ~/.ssh/id_ed25519 > ~/.config/sops/age/keys.txt
nix shell nixpkgs#age -c age-keygen -o ~/.config/sops/age/keys.txt
nix shell nixpkgs#age -c age-keygen -y ~/.config/sops/age/keys.txt

AGE-SECRET-KEY-1A630E2Z8WDHTF7VMKMZJXFFT6GQGF8SJLZFWAM8V9WJ89RJZ5FHSK2RHEE
age1sysky3n2s94nghsf5wg9ljvt7hvr3s3tr4s5euv5kejv4yn5j33sqhasqn

age16q6rhd994jruz4e8j5zg6qk2y62z8sydk3wy3qr8sny2y5td94qqsxzjve


nix-shell -p gnupg -p ssh-to-pgp --run "ssh-to-pgp -private-key -i $HOME/.ssh/id_ed25519 | gpg --import --quiet"
2504791468b153b8a3963cc97ba53d1919c5dfd4
# ~/.gitconfig.user
[user]
    name = Reinaldo P Jr
    email = reinaldo.develop@gmail.com
    signinkey =  reinaldo.develop@gmail.com

[commit]
    gpgsign = true

[tag]
    gpgsign = true

#####################################

gpg --list-keys
gpg --full-generate-key
teste

gpg --edit-key reinaldo.develop@gmail.com
gpg --passwd reinaldo.develop@gmail.com

# backup
gpg --export-secret-keys --output reinaldo.develop@gmail.com --armor reinaldo.develop@gmail.com

# export pub key
gpg --export --armor reinaldo.develop@gmail.com
gpg --export --armor --output nitro.gpg.pub reinaldo.develop@gmail.com

# searcg
gpg --search-keys reinaldo.develop@gmail.com
gpg --recv-keys 
gpg --delete-keys
gpg --send-keys CC41F8F23BA45892
gpg --list-keys --keyid-format LONG reinaldo.develop@gmail.com

CC41F8F23BA45892
export GPG_TTY=$(tty) 
# 

gpg --import

# ~/.gnupg/gpg-agent.conf
default-cache-ttl 604800
max-cache-ttl 604800

Ss

# -------------------- ~/.ssh/config
Host github
    HostName github.com
    User git
    PubkeyAuthentication yes
    IdentityFile ~/.ssh/id_ed25519

Host bitbucket
    HostName bitbucket.com
    User git
    AddKeysToAgent yes
    IdentityFile ~/.ssh/id_ed25519


Host gitlab
    HostName gitlab.com
    User git
    AddKeysToAgent yes
    IdentityFile ~/.ssh/id_ed25519

Host DietPi
    Hostname dietpi
    User dietpi

Host Anubis
    Hostname anubis
    User juca